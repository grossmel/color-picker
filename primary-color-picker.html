
<!DOCTYPE html>
<html>
  <body style="margin:0; padding:10px;">
    <input type="color" id="colorPicker" onchange="sendColor()" />
    <br/>
    <input type="text" id="hexCode" readonly style="margin-top:8px; width:100px;" />
    <button onclick="copyHex()" style="margin-left:8px;">Copy</button>

    <script>
      const colorInput = document.getElementById("colorPicker");
      const hexInput = document.getElementById("hexCode");

      function sendColor() {
        hexInput.value = colorInput.value;
        parent.postMessage({ type: "colorSelected", color: colorInput.value, picker: "primary" }, "*");
        console.log("ðŸŽ¨ Color sent:", colorInput.value);
      }

      function copyHex() {
        hexInput.select();
        document.execCommand("copy");
        parent.postMessage({ type: "colorCopied", picker: "primary" }, "*");
        console.log("ðŸ“‹ Hex copied:", hexInput.value);
      }
    </script>
  </body>
</html>
